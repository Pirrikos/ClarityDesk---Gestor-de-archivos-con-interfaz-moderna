ClarityDesk Pro - Árbol de Estructura
=====================================
Fecha: 13 de diciembre de 2025 (Actualizado a la estructura vigente)

C:.
│   .gitignore
│   README.md
│   arbol.txt                        # Documentación de estructura del proyecto
│   cursorrules-v2-complete          # Reglas de Cursor
│   main.py                          # Punto de entrada principal
│   requirements.txt                 # Dependencias Python
│   run.bat                          # Ejecución rápida en Windows
│   check_python.bat                 # Verificación de entorno Python
│   verify_dependencies.bat          # Comprobación de dependencias
│
├───.trae
│   └───rules
│           project_rules.md         # Reglas de arquitectura activas
│
├───INFORMES                         # Documentación y reportes
│   │   ANALISIS_CODIGO_MUERTO.md
│   │   AUDITORIA_CALIDAD_RAPIDA.md
│   │   AUDITORIA_COMPLETA_REGLAS.md
│   │   AUDITORIA_EXHAUSTIVA_COMPLETA.md
│   │   AUDITORIA_EXHAUSTIVA_CURSORRULES.md
│   │   AUDITORIA_EXHAUSTIVA_FINAL.md
│   │   AUDITORIA_FINAL.md
│   │   AUDITORIA_FINAL_COMPLETA.md
│   │   AUDITORIA_FINAL_REGLAS.md
│   │   AUDITORIA_HONESTA.md
│   │   AUDITORIA_PROFUNDA.md
│   │   CORRECCIONES_APLICADAS.md
│   │   FASE1_COMPLETADA.md
│   │   FASE1_TABMANAGER_COMPLETADA.md
│   │   FASE2_COMPLETADA.md
│   │   FASE3_COMPLETADA.md
│   │   FASE4_COMPLETADA.md
│   │   FASE5_COMPLETADA.md
│   │   FLUJO_RENDERIZADO_ICONOS.md
│   │   INFORME_DE_ESTADO.md
│   │   INFORME_INCUMPLIMIENTO_REGLAS.md
│   │   MIGRACION_CONTROLLERS_COMPLETA.md
│   │   REFACTORIZACION_COMPLETA.md
│   │   REFACTOR_TAB_MANAGER_MAPEO.md
│   │   REFACTOR_TAB_MANAGER_RESULTADO.md
│
├───app                              # Paquete principal de la aplicación
│   │   __init__.py
│   │
│   ├───assets
│   │   └───icons
│   │           README.md
│   │           folder_sidebar.svg
│   │
│   ├───core
│   │   │   __init__.py
│   │
│   ├───data
│   │   │   rename_templates.json    # Plantillas de renombrado
│   │
│   ├───managers                     # Gestores de coordinación (negocio)
│   │   │   __init__.py
│   │   │   file_state_manager.py
│   │   │   files_manager.py
│   │   │   focus_manager.py
│   │   │   tab_manager.py           # Gestor central de tabs
│   │   │   tab_manager_actions.py
│   │   │   tab_manager_init.py
│   │   │   tab_manager_restore.py
│   │   │   tab_manager_signals.py
│   │   │   tab_manager_state.py
│   │
│   ├───models                       # Modelos de datos
│   │   │   __init__.py
│   │   │   file_operation_result.py
│   │   │   file_stack.py
│   │
│   ├───services                     # Servicios de lógica de negocio
│   │   │   __init__.py
│   │   │   desktop_drag_ops.py
│   │   │   desktop_operations.py
│   │   │   desktop_operations_scan.py
│   │   │   desktop_path_helper.py
│   │   │   desktop_visibility.py
│   │   │   docx_convert_worker.py
│   │   │   docx_converter.py
│   │   │   file_delete_service.py
│   │   │   file_extensions.py
│   │   │   file_filter_service.py
│   │   │   file_list_service.py
│   │   │   file_move_service.py
│   │   │   file_open_service.py
│   │   │   file_path_utils.py
│   │   │   file_rename_service.py
│   │   │   file_scan_service.py
│   │   │   file_stack_service.py
│   │   │   file_state_storage.py
│   │   │   file_state_storage_batch.py
│   │   │   file_state_storage_crud.py
│   │   │   file_state_storage_helpers.py
│   │   │   file_state_storage_init.py
│   │   │   file_state_storage_rename.py
│   │   │   filesystem_watcher_service.py
│   │   │   icon_batch_worker.py
│   │   │   icon_conversion_helper.py
│   │   │   icon_extraction_fallbacks.py
│   │   │   icon_fallback_helper.py
│   │   │   icon_normalizer.py
│   │   │   icon_processor.py
│   │   │   icon_renderer.py
│   │   │   icon_renderer_constants.py
│   │   │   icon_renderer_docx.py
│   │   │   icon_renderer_image.py
│   │   │   icon_renderer_pdf.py
│   │   │   icon_renderer_svg.py
│   │   │   icon_service.py
│   │   │   pdf_render_worker.py
│   │   │   pdf_renderer.py
│   │   │   pixel_analyzer.py
│   │   │   preview_pdf_service.py
│   │   │   preview_scaling.py
│   │   │   preview_service.py
│   │   │   rename_service.py
│   │   │   settings_service.py
│   │   │   tab_finder.py
│   │   │   tab_history_manager.py
│   │   │   tab_manager_init.py
│   │   │   tab_navigation_handler.py
│   │   │   tab_path_normalizer.py
│   │   │   tab_state_manager.py
│   │   │   tab_storage_service.py
│   │   │   tab_utils.py
│   │   │   tab_validator.py
│   │   │   trash_limits.py
│   │   │   trash_operations.py
│   │   │   trash_storage.py
│   │   │   windows_icon_converter.py
│   │   │   windows_icon_extractor.py
│   │   │   workspace_service.py
│   │
│   ├───storage                      # Estado simple (JSON)
│   │   │   dock_tabs.json
│   │   │   trash_tabs.json
│   │
│   └───ui                           # Interfaz de usuario (Qt)
│       │   __init__.py
│       │
│       ├───widgets                  # Componentes reutilizables
│       │   │   __init__.py
│       │   │   badge_overlay_widget.py
│       │   │   container_drag_handler.py
│       │   │   desktop_stack_tile.py
│       │   │   dock_separator.py
│       │   │   drag_common.py
│       │   │   drag_preview_helper.py
│       │   │   file_drop_handler.py
│       │   │   file_grid_view.py
│       │   │   file_grid_view_drag.py
│       │   │   file_grid_view_events.py
│       │   │   file_grid_view_layout.py
│       │   │   file_grid_view_scroll.py
│       │   │   file_list_handlers.py
│       │   │   file_list_renderer.py
│       │   │   file_list_view.py
│       │   │   file_stack_tile.py
│       │   │   file_state_migration.py
│       │   │   file_tile.py
│       │   │   file_tile_anim.py
│       │   │   file_tile_controller.py
│       │   │   file_tile_drag.py
│       │   │   file_tile_events.py
│       │   │   file_tile_icon.py
│       │   │   file_tile_paint.py
│       │   │   file_tile_setup.py
│       │   │   file_tile_states.py
│       │   │   file_view_container.py
│       │   │   file_view_handlers.py
│       │   │   file_view_setup.py
│       │   │   file_view_sync.py
│       │   │   file_view_tabs.py
│       │   │   focus_dock_handlers.py
│       │   │   focus_dock_layout.py
│       │   │   focus_dock_update_helpers.py
│       │   │   focus_dock_widget.py
│       │   │   focus_header_panel.py
│       │   │   focus_stack_tile.py
│       │   │   focus_stack_tile_drag.py
│       │   │   focus_stack_tile_events.py
│       │   │   focus_stack_tile_paint.py
│       │   │   focus_stack_tile_setup.py
│       │   │   folder_tree_delegate.py
│       │   │   folder_tree_drag_handler.py
│       │   │   folder_tree_handlers.py
│       │   │   folder_tree_model.py
│       │   │   folder_tree_sidebar.py
│       │   │   folder_tree_styles.py
│       │   │   grid_content_widget.py
│       │   │   grid_layout_config.py
│       │   │   grid_layout_engine.py
│       │   │   grid_selection_logic.py
│       │   │   grid_selection_manager.py
│       │   │   grid_tile_animations.py
│       │   │   grid_tile_builder.py
│       │   │   grid_tile_positions.py
│       │   │   list_checkbox.py
│       │   │   list_drag_handler.py
│       │   │   list_icon_delegate.py
│       │   │   list_row_factory.py
│       │   │   list_state_cell.py
│       │   │   list_styles.py
│       │   │   raycast_panel.py
│       │   │   settings_stack_tile.py
│       │   │   state_badge_widget.py
│       │   │   subfolder_overlay.py
│       │   │   text_elision.py
│       │   │   tile_drag_handler.py
│       │   │   toolbar_button_styles.py
│       │   │   toolbar_navigation_buttons.py
│       │   │   toolbar_state_buttons.py
│       │   │   view_toolbar.py
│       │
│       └───windows                   # Ventanas principales
│           │   __init__.py
│           │   bulk_rename_dialog.py
│           │   desktop_window.py
│           │   main_window.py
│           │   main_window_file_handler.py
│           │   main_window_setup.py
│           │   main_window_signals.py
│           │   main_window_state.py
│           │   quick_preview_animations.py
│           │   quick_preview_cache.py
│           │   quick_preview_header.py
│           │   quick_preview_loader.py
│           │   quick_preview_navigation.py
│           │   quick_preview_pdf_handler.py
│           │   quick_preview_styles.py
│           │   quick_preview_thumbnail_widget.py
│           │   quick_preview_thumbnails.py
│           │   quick_preview_ui_setup.py
│           │   quick_preview_window.py
│           │   trash_delete_dialog.py
│
├───assets                           # Recursos (global)
│   └───icons                        # Iconos SVG genéricos
│           README.md
│           ajustes.svg
│           archive.svg
│           code.svg
│           config.svg
│           doc.svg
│           escritorio.svg
│           exe.svg
│           folder icon.svg
│           folder_sidebar.svg
│           generic.svg
│           media.svg
│           sheet.svg
│           slide.svg
│           text.svg
│
├───scripts                          # Automatización
│       build_release.bat
│
├───tests                            # Pruebas unitarias
│   │   __init__.py
│   │   test_files_controller.py
│   │   test_focus_controller.py
│   │   test_tabs_controller.py
│
═══════════════════════════════════════════════════════════════

RESUMEN DE ESTRUCTURA (vigente):
- `app/`: núcleo, servicios, gestores y UI Qt
- `assets/icons/`: iconografía global SVG
- `INFORMES/`: auditorías y documentación de refactor
- `scripts/`: utilidades de build y release
- `tests/`: pruebas de controladores principales

Notas:
- Se usó el árbol real del workspace actual para evitar desalineaciones.
- Se consolidó la documentación para reflejar la estructura presente sin estimaciones.
